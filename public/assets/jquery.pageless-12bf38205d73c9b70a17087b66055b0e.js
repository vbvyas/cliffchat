!function(e){var n,a,t=!1,i=!t,o=t,l={container:window,currentPage:1,distance:100,pagination:".pagination",params:{},url:location.href,loaderImage:"/images/load.gif"},r=l.container;e.pageless=function(n){e.isFunction(n)?l.call():c(n)};var s=function(){return l.loaderHtml||'<div id="pageless-loader" style="display:none;text-align:center;width:100%;">  <div class="msg" style="color:#e9e9e9;font-size:2em"></div>  <img src="'+l.loaderImage+'" alt="loading more results" style="margin:10px auto" /></div>'},c=function(n){l.inited||(l.inited=i,n&&e.extend(l,n),l.pagination&&e(l.pagination).remove(),p())};e.fn.pageless=function(t){var i=e(this),o=e(t.loader,i);c(t),n=i,t.loader&&o.length?a=o:(a=e(s()),i.append(a),t.loaderHtml||e("#pageless-loader .msg").html(t.loaderMsg))};var d=function(e){(o=e)?a&&a.fadeIn("normal"):a&&a.fadeOut("normal")},g=function(){return r===window?e(document).height()-e(r).scrollTop()-e(r).height():e(r)[0].scrollHeight-e(r).scrollTop()-e(r).height()},u=function(){e(r).unbind(".pageless")},p=function(){e(r).bind("scroll.pageless",m).trigger("scroll.pageless")},m=function(){return l.totalPages<=l.currentPage?(u(),l.end&&l.end.call(),void 0):(!o&&g()<l.distance&&(d(i),l.currentPage++,e.extend(l.params,{page:l.currentPage}),e.get(l.url,l.params,function(i){e.isFunction(l.scrape)?l.scrape(i):i,a?a.before(i):n.append(i),d(t),l.complete&&l.complete.call()})),void 0)}}(jQuery);